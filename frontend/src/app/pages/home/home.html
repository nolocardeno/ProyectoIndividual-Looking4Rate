<!-- ============================================ -->
<!-- HOME PAGE - LOOKING4RATE -->
<!-- Página principal para usuarios no logueados -->
<!-- ============================================ -->

<section class="home">
  
  <!-- ============================================ -->
  <!-- HERO SECTION -->
  <!-- ============================================ -->
  <section class="hero">
    <div class="hero__overlay"></div>
    <div class="hero__content">
      <h2 class="hero__text">
        Ten un seguimiento de lo&nbsp;que&nbsp;juegas.
        <br>
        Puntúa y critica tus&nbsp;favoritos.
        <br>
        Cuéntale a los&nbsp;demás qué&nbsp;te&nbsp;gusta.
      </h2>
      <app-button variant="primary" size="lg" (click)="openRegister()">
        Únete a L4R!
      </app-button>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- SECCIÓN: NOVEDADES EN L4R -->
  <!-- ============================================ -->
  <app-featured-section title="NOVEDADES EN L4R" linkRoute="/buscar">
    @if (novedadesLoading()) {
      <div class="home__loading">
        <app-spinner-inline size="md"></app-spinner-inline>
        <p>Cargando novedades...</p>
      </div>
    } @else if (novedadesError()) {
      <div class="home__error">
        <app-alert type="error" [dismissible]="false">
          {{ novedadesError() }}
        </app-alert>
        <app-button variant="secondary" size="sm" (click)="reintentarNovedades()">
          Reintentar
        </app-button>
      </div>
    } @else {
      <ul class="home__covers">
        @for (juego of novedadesData(); track juego.id) {
          <li class="home__cover-item">
            <app-game-cover 
              [src]="juego.imagenPortada" 
              [alt]="juego.nombre" 
              [routerLink]="'/juego/' + juego.id" 
              size="lg" 
            />
          </li>
        } @empty {
          <p class="home__empty">No hay novedades disponibles</p>
        }
      </ul>
    }
  </app-featured-section>

  <!-- ============================================ -->
  <!-- SECCIÓN: PRÓXIMOS LANZAMIENTOS -->
  <!-- ============================================ -->
  <app-featured-section title="PRÓXIMOS LANZAMIENTOS" linkRoute="/buscar">
    @if (proximosLoading()) {
      <div class="home__loading">
        <app-spinner-inline size="md"></app-spinner-inline>
        <p>Cargando próximos lanzamientos...</p>
      </div>
    } @else if (proximosError()) {
      <div class="home__error">
        <app-alert type="error" [dismissible]="false">
          {{ proximosError() }}
        </app-alert>
        <app-button variant="secondary" size="sm" (click)="reintentarProximos()">
          Reintentar
        </app-button>
      </div>
    } @else {
      <ul class="home__covers">
        @for (juego of proximosData(); track juego.id) {
          <li class="home__cover-item">
            <app-game-cover 
              [src]="juego.imagenPortada" 
              [alt]="juego.nombre" 
              [routerLink]="'/juego/' + juego.id" 
              size="lg" 
            />
          </li>
        } @empty {
          <p class="home__empty">No hay próximos lanzamientos</p>
        }
      </ul>
    }
  </app-featured-section>

</section>
