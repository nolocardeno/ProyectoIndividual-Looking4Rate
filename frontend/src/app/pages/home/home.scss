@use 'styles/00-settings/variables' as *;
@use 'styles/01-tools/mixins' as *;

// ==========================================================================
// HOME PAGE - LOOKING4RATE
// Página principal con hero y secciones de juegos
// ==========================================================================

.home {
  display: flex;
  flex-direction: column;
  gap: $spacing-header-footer; // 60px
  padding-top: 0;
  padding-bottom: $spacing-header-footer; // 60px antes del footer
}

// ==========================================================================
// HERO SECTION
// ==========================================================================

.hero {
  position: relative;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  min-height: 85vh;
  padding: 0 $spacing-4 0 $spacing-4;
  overflow: visible;
  // Extender más allá de los márgenes
  margin: calc(-1 * $spacing-6) calc(-1 * $spacing-12) 0;
  width: calc(100% + 2 * $spacing-12);
  
  // Imagen de fondo responsive - tamaños grandes para evitar blur
  // AVIF para mejor compresión sin perder calidad
  // Por defecto: 800px para móviles
  background: url('/assets/img/hero/hero-background-small.avif') center center / cover no-repeat;
  
  // Tablets - 768px+: usar 1400px
  @media (min-width: 768px) {
    background-image: url('/assets/img/hero/hero-background-medium.avif');
  }
  
  // Desktop - 1280px+: usar 1920px full resolution
  @media (min-width: 1280px) {
    background-image: url('/assets/img/hero/hero-background-large.avif');
  }
  
  // Overlay con gradientes laterales para efecto Letterboxd
  &__overlay {
    position: absolute;
    inset: 0;
    z-index: 1;
    // Gradientes que se desvanecen desde el centro hacia los lados
    // Usa var(--bg-primary) para adaptarse automáticamente al tema
    background: 
      // Gradiente izquierdo
      linear-gradient(to right, var(--bg-primary) 0%, transparent 30%),
      // Gradiente derecho  
      linear-gradient(to left, var(--bg-primary) 0%, transparent 30%),
      // Gradiente inferior
      linear-gradient(to top, var(--bg-primary) 0%, transparent 50%);
  }
  
  // Contenido centrado con padding
  &__content {
    position: relative;
    z-index: 2;
    text-align: center;
    max-width: 56.25rem;
    padding: 0 $spacing-6;
    margin-bottom: 0;
  }
  
  // Texto principal (todo junto como Letterboxd)
  &__text {
    font-family: $font-secondary; // Playfair Display
    font-size: $font-size-xl; // 32px
    font-weight: 950;
    color: var(--text-primary);
    margin: 0 0 $spacing-4 0;
    text-shadow: 0.125rem 0.125rem 0.25rem rgba(0, 0, 0, 0.5);
    line-height: $line-height-normal;
  }
  
  // Botón CTA
  &__cta {
    display: inline-block;
    text-decoration: none;
    
    // Hacer el texto más negrita
    button {
      font-weight: $font-weight-bold;
    }
  }

  // Variante de bienvenida para usuarios autenticados
  &--welcome {
    min-height: auto;
    background: none;
    padding: $spacing-header-footer $spacing-4 0; // 60px arriba, 0 abajo (el gap del .home ya da 60px)
    align-items: center;
    justify-content: center;
  }

  &__content--welcome {
    margin-bottom: 0;
  }

  &__text--welcome {
    font-family: $font-primary;
    font-size: $font-size-xl;
    font-weight: $font-weight-semibold;
    color: var(--text-secondary);
    text-shadow: none;
    margin: 0;
    
    strong {
      color: var(--text-primary);
      font-weight: $font-weight-bold; // Mantener el mismo peso en negrita
    }
  }
}

// ==========================================================================
// SECCIONES DE CONTENIDO
// ==========================================================================

// Grid de carátulas
.home__covers {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: $spacing-3;
  list-style: none;
  padding: 0;
  margin: 0;
}

.home__cover-item {
  // El componente game-cover maneja sus propios estilos
  display: block;
}

// Estado de carga
.home__loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: $spacing-3;
  padding: $spacing-6;
  color: var(--text-secondary);
  
  p {
    margin: 0;
    font-size: $font-size-sm;
  }
}

// Estado de error
.home__error {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: $spacing-3;
  padding: $spacing-4;
}

// Estado vacío
.home__empty {
  grid-column: 1 / -1;
  text-align: center;
  color: var(--text-muted);
  font-size: $font-size-sm;
  padding: $spacing-6;
  margin: 0;
}

// ==========================================================================
// RESPONSIVE (Desktop-First Strategy)
// ==========================================================================

// Desktop grande (1280px)
@media (max-width: $breakpoint-xl) {
  // Sin cambios significativos - mantiene diseño desktop
}

// Desktop pequeño (1024px)
@media (max-width: $breakpoint-lg) {
  // Sin cambios significativos - mantiene diseño desktop
}

// Tablet (768px)
@media (max-width: $breakpoint-md) {
  .home {
    gap: $spacing-4;
    padding-bottom: $spacing-4;
  }

  .hero {
    min-height: 60vh;
    margin: calc(-1 * $spacing-2) calc(-1 * $spacing-3) 0;
    width: calc(100% + 2 * $spacing-3);
    padding: 0 $spacing-2;

    &__overlay {
      background: 
        linear-gradient(to right, var(--bg-primary) 0%, transparent 20%),
        linear-gradient(to left, var(--bg-primary) 0%, transparent 20%),
        linear-gradient(to top, var(--bg-primary) 0%, transparent 60%);
    }

    &__content {
      padding: 0 $spacing-2;
    }

    &__text {
      font-size: $font-size-md;
      margin-bottom: $spacing-3;
    }

    &--welcome {
      padding: $spacing-header-footer $spacing-2 $spacing-header-footer;
    }

    &__text--welcome {
      font-size: $font-size-lg;
    }
  }

  .home__covers {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: $spacing-3;
    
    .home__cover-item {
      flex: 0 0 auto;
      width: 9rem;
    }
  }

  .home__loading {
    padding: $spacing-4;
    gap: $spacing-2;
  }
}

// Móvil (640px)
@media (max-width: $breakpoint-sm) {
  .home {
    gap: $spacing-3;
    padding-bottom: $spacing-3;
  }

  .hero {
    min-height: 50vh;
    margin: calc(-1 * $spacing-2) calc(-1 * $spacing-2) 0;
    width: calc(100% + 2 * $spacing-2);
    padding: 0 $spacing-1;

    &__overlay {
      background: 
        linear-gradient(to right, var(--bg-primary) 0%, transparent 15%),
        linear-gradient(to left, var(--bg-primary) 0%, transparent 15%),
        linear-gradient(to top, var(--bg-primary) 0%, transparent 70%);
    }

    &__content {
      padding: 0 $spacing-1;
    }

    &__text {
      font-size: $font-size-sm;
      margin-bottom: $spacing-2;
    }

    &--welcome {
      padding: $spacing-header-footer $spacing-1 $spacing-header-footer;
    }

    &__text--welcome {
      font-size: $font-size-lg;
    }
  }

  .home__covers {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: $spacing-2;
    
    .home__cover-item {
      flex: 0 0 auto;
      width: 9rem;
    }
  }

  .home__loading {
    padding: $spacing-3;
    
    p {
      font-size: $font-size-xs;
    }
  }

  .home__error {
    padding: $spacing-2;
    gap: $spacing-2;
  }
}

// Móvil pequeño (320px)
@media (max-width: $breakpoint-xs) {
  .hero {
    // Texto del hero más grande para mejor legibilidad
    &__text {
      font-size: $font-size-md;
    }

    &__text--welcome {
      font-size: $font-size-md;
    }
  }

  // Carátulas más pequeñas y centradas
  .home__covers {
    .home__cover-item {
      width: 6rem;
    }
  }
}
