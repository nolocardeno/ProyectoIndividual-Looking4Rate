@use '../00-settings/variables' as *;

// ==========================================================================
// MIXINS
// Funciones reutilizables para estilos comunes
// ==========================================================================

// --------------------------------------------------------------------------
// LAYOUT
// --------------------------------------------------------------------------

// Centra cualquier elemento usando flexbox
@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

// Contenedor de pagina con padding lateral responsive (Desktop-First)
@mixin page-container {
  padding-left: $page-padding-x;
  padding-right: $page-padding-x;
  
  @media (max-width: $breakpoint-xl) {
    padding-left: $spacing-8;
    padding-right: $spacing-8;
  }
  
  @media (max-width: $breakpoint-lg) {
    padding-left: $spacing-4;
    padding-right: $spacing-4;
  }
  
  @media (max-width: $breakpoint-md) {
    padding-left: $spacing-3;
    padding-right: $spacing-3;
  }
  
  @media (max-width: $breakpoint-sm) {
    padding-left: $spacing-2;
    padding-right: $spacing-2;
  }
}

// --------------------------------------------------------------------------
// EFECTOS
// --------------------------------------------------------------------------

// Aplica una sombra al elemento
@mixin box-shadow($shadow) {
  box-shadow: $shadow;
}

// Transicion estandar para cualquier propiedad
@mixin transition($property: all, $duration: 300ms, $timing: ease-in-out) {
  transition: $property $duration $timing;
}

// --------------------------------------------------------------------------
// RESPONSIVE HELPERS (Desktop-First Strategy)
// Usa max-width para ir reduciendo desde desktop
// --------------------------------------------------------------------------

// Media query genérica para breakpoint específico (max-width - desktop-first)
@mixin respond-to($breakpoint) {
  @media (max-width: $breakpoint) {
    @content;
  }
}

// Media query para desktop estándar (1280px y menor)
@mixin desktop {
  @media (max-width: $breakpoint-xl) {
    @content;
  }
}

// Media query para desktop pequeño (1024px y menor)
@mixin desktop-small {
  @media (max-width: $breakpoint-lg) {
    @content;
  }
}

// Media query para tablet (768px y menor)
@mixin tablet {
  @media (max-width: $breakpoint-md) {
    @content;
  }
}

// Media query para móvil (640px y menor)
@mixin mobile {
  @media (max-width: $breakpoint-sm) {
    @content;
  }
}

// Media query para móvil pequeño (320px y menor)
@mixin mobile-small {
  @media (max-width: $breakpoint-xs) {
    @content;
  }
}

// --------------------------------------------------------------------------
// VISIBILITY HELPERS (Desktop-First)
// --------------------------------------------------------------------------

// Ocultar en tablet y menor
@mixin hide-tablet {
  @media (max-width: $breakpoint-md) {
    display: none !important;
  }
}

// Ocultar en móvil
@mixin hide-mobile {
  @media (max-width: $breakpoint-sm) {
    display: none !important;
  }
}

// Mostrar solo en tablet y menor
@mixin show-tablet-only {
  display: none !important;
  
  @media (max-width: $breakpoint-md) {
    display: flex !important;
  }
}

// Mostrar solo en móvil
@mixin show-mobile-only {
  display: none !important;
  
  @media (max-width: $breakpoint-sm) {
    display: flex !important;
  }
}

// --------------------------------------------------------------------------
// CONTAINER QUERIES
// Para componentes independientes del viewport
// --------------------------------------------------------------------------

// Define un contenedor para container queries
@mixin container($name: null) {
  container-type: inline-size;
  @if $name {
    container-name: $name;
  }
}

// Media query basada en el contenedor (para anchos específicos)
@mixin container-query($min-width: null, $max-width: null, $name: null) {
  @if $min-width and $max-width {
    @if $name {
      @container #{$name} (min-width: #{$min-width}) and (max-width: #{$max-width}) {
        @content;
      }
    } @else {
      @container (min-width: #{$min-width}) and (max-width: #{$max-width}) {
        @content;
      }
    }
  } @else if $min-width {
    @if $name {
      @container #{$name} (min-width: #{$min-width}) {
        @content;
      }
    } @else {
      @container (min-width: #{$min-width}) {
        @content;
      }
    }
  } @else if $max-width {
    @if $name {
      @container #{$name} (max-width: #{$max-width}) {
        @content;
      }
    } @else {
      @container (max-width: #{$max-width}) {
        @content;
      }
    }
  }
}

// --------------------------------------------------------------------------
// TYPOGRAPHY RESPONSIVE
// --------------------------------------------------------------------------

// Escala tipográfica responsive
@mixin responsive-text($desktop-size, $tablet-size: null, $mobile-size: null) {
  font-size: $desktop-size;
  
  @if $tablet-size {
    @include tablet {
      font-size: $tablet-size;
    }
  }
  
  @if $mobile-size {
    @include mobile {
      font-size: $mobile-size;
    }
  }
}

// --------------------------------------------------------------------------
// GRID HELPERS
// --------------------------------------------------------------------------

// Grid responsive automático
@mixin responsive-grid($min-item-width: 200px, $gap: $spacing-3) {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax($min-item-width, 1fr));
  gap: $gap;
}
